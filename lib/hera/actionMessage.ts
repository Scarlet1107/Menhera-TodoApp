import { HeraMood, getHeraMood } from "@/lib/state";

// ① アクション種別の型
export type HeraAction =
  | "create"
  | "edit"
  | "delete"
  | "complete"
  | "uncomplete";

// ② 各アクション×ムードごとのメッセージ辞書
export const actionMessages: Record<HeraAction, Record<HeraMood, string>> = {
  create: {
    最高: "わーい！新しいタスクでいっぱいだね♪ 一緒に頑張ろう！",
    良い: "ありがとう、新しいTodo作ってくれて…すごく嬉しいよ",
    普通: "新しいTodoがんばってね。応援してるよ",
    悪い: "Todoを増やしたの？私のこと大事に思ってくれてるならちゃんとやってね",
    非常に悪い: "ちゃんとやるって約束して?？私のこと…本当に考えてくれてる？",
  },
  edit: {
    最高: "え…タスクの内容を変えたの？そんなことされたら悲しいよ",
    良い: "タスクを編集された…私の気持ち、わかってるのかな…？",
    普通: "編集したの？先延ばしにされると悲しいよ…。",
    悪い: "編集したんだ…。私のこと大事じゃないからそうやって先延ばしにするでしょ",
    非常に悪い: "また編集してる…私のことなんてどうでもいいんだ",
  },
  delete: {
    最高: "えっ、Todoを消しちゃったの？一緒にがんばろうって言ってたのに…",
    良い: "タスク消しちゃうの？悲しいな…",
    普通: "タスク消しちゃうなんて…私のことはそうやって捨てないでね…",
    悪い: "Todoを消すなんて…私、もういらないの？",
    非常に悪い: "どうせ私のこともそうやって捨てるんだ…",
  },
  complete: {
    最高: "最高！全部やり遂げてくれて…大好き！！",
    良い: "タスク完了…ありがとう、私、本当にうれしい♡",
    普通: "タスクが終わったね。頑張ったんだね…",
    悪い: "本当に完了したの？嘘じゃないよね…？",
    非常に悪い: "完了したって嘘じゃないよね…？もし嘘だったら私もう…",
  },
  uncomplete: {
    最高: "え？未完了に？タスク終わったって嘘ついてたの？",
    良い: "また未完了…終わったって言ったのに…悲しいよ…。",
    普通: "未完了に戻したの？どうして嘘つくの…",
    悪い: "嘘ついて…私のこと裏切った？",
    非常に悪い: "嘘ついたんだね…私のことなんか本当にどうでもいいんだ…。",
  },
};

// ③ helper 関数で取得する
export function getActionMessage(
  action: HeraAction,
  affection: number
): string {
  const mood = getHeraMood(affection);
  return actionMessages[action][mood];
}
