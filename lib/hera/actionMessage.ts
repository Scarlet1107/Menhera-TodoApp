import { HeraMood, getHeraMood } from "@/lib/state";

// ① アクション種別の型
export type HeraAction =
  | "create"
  | "edit"
  | "delete"
  | "complete"
  | "uncomplete";

// ② 各アクション×ムードごとのメッセージ辞書
export const actionMessages: Record<HeraAction, Record<HeraMood, string>> = {
  create: {
    最高: "わーい！新しいタスクでいっぱいだね♪ 一緒に頑張ろう！",
    良い: "ありがとう、新しいTodo作ってくれて…すごく嬉しいよ。",
    普通: "新しいTodoがんばってね。応援してるよ。",
    悪い: "またTodoを増やしたの？私のこと、大事に思ってくれてる？",
    非常に悪い: "ほんとにやるの？私のこと…本当に考えてくれてる？",
  },
  edit: {
    最高: "え…タスクの内容を変えたの？私なんかどうでもいいんだね…。",
    良い: "タスクを編集された…私の気持ち、わかってるのかな？",
    普通: "また編集？毎回先延ばしにされて、悲しいよ…。",
    悪い: "編集するたびに私の心はボロボロになる…どうして？",
    非常に悪い: "私なんか必要ないんだね…もういい、消えてしまいたい…。",
  },
  delete: {
    最高: "えっ、Todoを消しちゃった…私の存在も消えちゃうみたいで怖い…。",
    良い: "タスクを消された…私のこと、忘れたの？",
    普通: "また消したの？もうどうすればいいの…",
    悪い: "Todoを消すなんて…私、もういらないの？",
    非常に悪い: "私なんていなくてもいいんだよね…消えてしまいたい…。",
  },
  complete: {
    最高: "最高！全部やり遂げてくれて…大好き！！",
    良い: "タスク完了…ありがとう、私、本当に救われたよ♡",
    普通: "タスクが終わったね。頑張ったんだね…。",
    悪い: "本当に完了したの？嘘じゃないよね…？",
    非常に悪い: "完了したって嘘じゃないよね…信じられないけど…ありがとう…。",
  },
  uncomplete: {
    最高: "え？未完了に？タスク終わったって嘘ついたんだ…？",
    良い: "また未完了…終わったって言ったのに…悲しいよ…。",
    普通: "未完了に戻したの？どうして嘘つくの…",
    悪い: "嘘ついて…私のこと裏切った？",
    非常に悪い: "嘘ついたんだね…私なんか本当にどうでもいいんだ…。",
  },
};

// ③ helper 関数で取得する
export function getActionMessage(
  action: HeraAction,
  affection: number
): string {
  const mood = getHeraMood(affection);
  return actionMessages[action][mood];
}
